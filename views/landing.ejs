<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogspace</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-left">
            <a class="active" href="/">Home</a>
            <a href="/blog/archive">Archive</a>
        </div>
        <div class="navbar-right">
            <% if (user) { %>
                <a href="/" onclick="logout(event)">Logout</a>
            <% } else { %>
                <a href="/register">Register</a>
                <a href="/login">Login</a>
            <% } %>
        </div>
    </nav>

    <h1 class="centered">Welcome to Blogspace</h1>
    
    <div id="preview-cards">
        <% blogs.forEach(blog => { %>
            <div class="preview-blog-card">
                <a href="/blog/<%= blog.slug %>">
                    <h2 class="preview-blog-title">
                        <%= blog.title %>
                    </h2>
                </a>
                <!-- <img src="img/placeholder.jpeg" alt=""> -->
                <p class="preview-blog-overview"><%= blog.overview %></p>
                <p class="preview-blog-uploaded">
                    <% {
                        const createdAt = new Date(blog.created_at);
                        blog.created_at = `${String(createdAt.getDate()).padStart(2, '0')}-${String(createdAt.getMonth() + 1).padStart(2, '0')}-${createdAt.getFullYear()}`
                    } %>
                    <%= blog.created_at %>
                </p>
    

            </div>

            <hr>

        <% }) %>      
    </div>

    <h2 class="centered"><a href="/blog/archive">Read more</a></h2>
</body>
</html>